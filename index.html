<!DOCTYPE html>
<html>
<head>
    
    <title>Games Indeed</title>
     <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="head">Truly A True Gamer Reviews</header>

    <nav>
        <a href="index.html">Home</a>
        <a href="reviews.html">Reviews</a>
        <a href="Creator.html">Creator</a>
        <a href="contact.html">Contact</a>
    </nav>

    <div class="background-container">
        <div class="background-image" id="bg1"></div>
        <div class="background-image" id="bg2"></div>
    </div>
    <div class="overlay"></div>

    <div class="content" id="game-list-container">
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const gameListContainer = document.getElementById('game-list-container');
            fetch('games.json')
                .then(response => response.json())
                .then(games => {
                    games.forEach(game => {
                        const gameItemHTML = `
                            <div class="game-item">
                                <a href="game.html?id=${game.id}">
                                    <button data-bg="Images/${game.bg}">
                                        <img src="Images/${game.thumbnail}" alt="${game.title} Poster">
                                    </button>
                                </a>
                                <p>${game.title}</p>
                            </div>
                        `;
                        gameListContainer.innerHTML += gameItemHTML;
                    });
                    let activeBg = 1;
                    function changeBackground(image) {
                        let bg1 = document.getElementById("bg1");
                        let bg2 = document.getElementById("bg2");

                        let newBg = activeBg === 1 ? bg2 : bg1;
                        let oldBg = activeBg === 1 ? bg1 : bg2;

                        newBg.style.backgroundImage = `url('${image}')`;
                        newBg.style.opacity = 1;
                        oldBg.style.opacity = 0;

                        activeBg = activeBg === 1 ? 2 : 1;
                    }

                    function resetBackground() {
                        document.getElementById("bg1").style.opacity = 0;
                        document.getElementById("bg2").style.opacity = 0;
                    }

                    document.querySelectorAll("button").forEach(button => {
                        button.addEventListener("mouseover", () => {
                            changeBackground(button.getAttribute("data-bg"));
                        });
                        button.addEventListener("mouseleave", resetBackground);
                    });
                })
                .catch(error => {
                    console.error('Error fetching game data:', error);
                    gameListContainer.innerHTML = "<p style='color: white;'>Could not load game list.</p>";
                });
        });
    </script>
</body>
</html>
